import urllib3
import shutil
import feedparser
import requests

headers = {
    'HTTP_USER_AGENT': ' Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.111 Safari/537.36',
    'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
}

formFields = {
	'r': '__VIEWSTATE',
	'r': 'wEPDwUKMTU4MzM1OTMxNg9kFgJmD2QWAgIBD2QWAgIDD2QWDgIDD2QWAgUmZ181ZWZmOGZmYV82OTA5XzQyOThfYjlmY185MTZhM2IxM2NkZWIQDxYGHgtQYXJhbVZhbHVlczK0CAABAAAA // // / wEAAAAAAAAADAIAAABYTWljcm9zb2Z0LlNoYXJlUG9pbnQsIFZlcnNpb249MTQuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49NzFlOWJjZTExMWU5NDI5YwUBAAAAPU1pY3Jvc29mdC5TaGFyZVBvaW50LldlYlBhcnRQYWdlcy5QYXJhbWV0ZXJOYW1lVmFsdWVIYXNodGFibGUBAAAABV9jb2xsAxxTeXN0ZW0uQ29sbGVjdGlvbnMuSGFzaHRhYmxlAgAAAAkDAAAABAMAAAAcU3lzdGVtLkNvbGxlY3Rpb25zLkhhc2h0YWJsZQcAAAAKTG9hZEZhY3RvcgdWZXJzaW9uCENvbXBhcmVyEEhhc2hDb2RlUHJvdmlkZXIISGFzaFNpemUES2V5cwZWYWx1ZXMAAAMDAAUFCwgcU3lzdGVtLkNvbGxlY3Rpb25zLklDb21wYXJlciRTeXN0ZW0uQ29sbGVjdGlvbnMuSUhhc2hDb2RlUHJvdmlkZXII7FE4PwwAAAAKChcAAAAJBAAAAAkFAAAAEAQAAAALAAAABgYAAAATc2VsZWN0X2Rlc2VsZWN0X2FsbAYHAAAAD05vQW5ub3VuY2VtZW50cwYIAAAACW9wZW5fbWVudQYJAAAADWlkUHJlc0VuYWJsZWQGCgAAAApTZWxlY3RlZElEBgsAAAARZHZ0X3N0YXJ0cG9zaXRpb24GDAAAAApGaWx0ZXJMaW5rBg0AAAAQZHZ0X25leHRwYWdlZGF0YQYOAAAAFE5vQW5ub3VuY2VtZW50c0hvd1RvBg8AAAAQZHZ0X3ByZXZwYWdlZGF0YQYQAAAAFU9wZW5NZW51S2V5QWNjZXNzaWJsZRAFAAAACwAAAAYRAAAAHFNlbGVjdCBvciBkZXNlbGVjdCBhbGwgaXRlbXMGEgAAAEhUaGVyZSBhcmUgbm8gaXRlbXMgdG8gc2hvdyBpbiB0aGlzIHZpZXcgb2YgdGhlICJETVMgUmVsZWFzZV9Ob3RlcyIgbGlzdC4GEwAAAAlPcGVuIE1lbnUGFAAAACBQcmVzZW5jZSBlbmFibGVkIGZvciB0aGlzIGNvbHVtbgYVAAAAAi0xBhYAAAAABhcAAAABPwYYAAAALlBhZ2VkPVRSVUUmcF9Hcm91cENvbDE9MjAyMDA1MTIlMjAwNyUzYTAwJTNhMDAGGQAAAB9UbyBhZGQgYSBuZXcgaXRlbSwgY2xpY2sgIk5ldyIuBhoAAAA9UGFnZWQ9VFJVRSZQYWdlZFByZXY9VFJVRSZwX0dyb3VwQ29sMT0yMDIwMTAyNyUyMDA3JTNhMDAlM2EwMAYbAAAALlVzZSBTSElGVCtFTlRFUiB0byBvcGVuIHRoZSBtZW51IChuZXcgd2luZG93KS4LHhBGaWx0ZXJPcGVyYXRpb25zMo0FAAEAAAD // // / AQAAAAAAAAAEAQAAAJMCU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuRGljdGlvbmFyeWAyW1tTeXN0ZW0uU3RyaW5nLCBtc2NvcmxpYiwgVmVyc2lvbj0yLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPWI3N2E1YzU2MTkzNGUwODldLFtNaWNyb3NvZnQuU2hhcmVQb2ludC5XZWJQYXJ0UGFnZXMuRmlsdGVyT3BlcmF0aW9uLCBNaWNyb3NvZnQuU2hhcmVQb2ludCwgVmVyc2lvbj0xNC4wLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj03MWU5YmNlMTExZTk0MjljXV0DAAAAB1ZlcnNpb24IQ29tcGFyZXIISGFzaFNpemUAAwAIkgFTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5HZW5lcmljRXF1YWxpdHlDb21wYXJlcmAxW1tTeXN0ZW0uU3RyaW5nLCBtc2NvcmxpYiwgVmVyc2lvbj0yLjAuMC4wLCBDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPWI3N2E1YzU2MTkzNGUwODldXQgAAAAACQIAAAAAAAAABAIAAACSAVN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkdlbmVyaWNFcXVhbGl0eUNvbXBhcmVyYDFbW1N5c3RlbS5TdHJpbmcsIG1zY29ybGliLCBWZXJzaW9uPTIuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49Yjc3YTVjNTYxOTM0ZTA4OV1dAAAAAAseDF92aWV3Q291bnRlcgKcA2RkZAIRD2QWBGYPZBYEAgEPZBYCZg9kFgQCAg9kFhQCAQ8WAh4HVmlzaWJsZWhkAgMPFggeE0NsaWVudE9uQ2xpY2tTY3JpcHQFaGphdmFTY3JpcHQ6Q29yZUludm9rZSgnVGFrZU9mZmxpbmVUb0NsaWVudFJlYWwnLDEsIDEsICdodHRwOlx1MDAyZlx1MDAyZmNocHNwXHUwMDJmSVNUJywgLTEsIC0xLCAnJywgJycpHhhDbGllbnRPbkNsaWNrTmF2aWdhdGVVcmxkHihDbGllbnRPbkNsaWNrU2NyaXB0Q29udGFpbmluZ1ByZWZpeGVkVXJsZB4MSGlkZGVuU2NyaXB0BSFUYWtlT2ZmbGluZURpc2FibGVkKDEsIDEsIC0xLCAtMSlkAgUPFgIfA2hkAgcPFgIfA2hkAgkPFgIfA2hkAgsPFgIfA2hkAg8PFgIfA2hkAhEPFgIfA2hkAhMPFgIfA2hkAhUPFgIfA2hkAgMPDxYKHglBY2Nlc3NLZXkFAS8eD0Fycm93SW1hZ2VXaWR0aAIFHhBBcnJvd0ltYWdlSGVpZ2h0AgMeEUFycm93SW1hZ2VPZmZzZXRYZh4RQXJyb3dJbWFnZU9mZnNldFkC6wNkZAIDD2QWAgIBD2QWAgIDD2QWAgIBDzwrAAUBAA8WAh4PU2l0ZU1hcFByb3ZpZGVyBRFTUFNpdGVNYXBQcm92aWRlcmRkAgEPZBYGAgUPZBYCAgEPEBYCHwNoZBQrAQBkAgcPZBYCZg9kFgJmDxQrAANkBRtodHRwOi8vY2hwc3A6ODAvUGVyc29uLmFzcHgFEGh0dHA6Ly9jaHBzcDo4MC9kAgkPDxYCHwNoZGQCHQ9kFgICAw9kFgICAQ9kFgICAQ9kFgICAQ9kFgRmDxYGHgxGZWF0dXJlU2NvcGUFBFNpdGUeCExvY2F0aW9uBSFNaWNyb3NvZnQuU2hhcmVQb2ludC5TdGFuZGFyZE1lbnUeB0dyb3VwSWQFEFZpZXdTZWxlY3Rvck1lbnUWAgIBDxYCHwNoZAIBDw8WEh4WSG92ZXJBcnJvd0ltYWdlT2Zmc2V0WQLKAh8KAgQeFEhvdmVyQXJyb3dJbWFnZVdpZHRoAgcfC2YfDALGAh8JAgceFUhvdmVyQXJyb3dJbWFnZUhlaWdodAIEHhZIb3ZlckFycm93SW1hZ2VPZmZzZXRYZh8IBQFXZGQCIw9kFgICAQ9kFgJmD2QWAgICDw9kFgYeBWNsYXNzBSJtcy1zYnRhYmxlIG1zLXNidGFibGUtZXggczQtc2VhcmNoHgtjZWxscGFkZGluZwUBMB4LY2VsbHNwYWNpbmcFATBkAi0PZBYCAgMPDxYCHwNoZGQCLw9kFgICAQ8WAh8DaGQCMw9kFgICCQ9kFgICAQ8PFgIfA2hkFgICAw9kFgJmD2QWAgIDD2QWAgIFDw8WBB4GSGVpZ2h0GwAAAAAAAHlAAQAAAB4EXyFTQgKAAWQWAgIBDzwrAAkBAA8WBB4NUGF0aFNlcGFyYXRvcgQIHg1OZXZlckV4cGFuZGVkZ2RkGAIFM2N0bDAwJFBsYWNlSG9sZGVyTGVmdE5hdkJhciRjdGwwNSRWNFF1aWNrTGF1bmNoTWVudQ8PZAUXTGlzdHNcRE1TIFJlbGVhc2VfTm90ZXNkBUdjdGwwMCRQbGFjZUhvbGRlclRvcE5hdkJhciRQbGFjZUhvbGRlckhvcml6b250YWxOYXYkVG9wTmF2aWdhdGlvbk1lbnVWNA8PZAUnQ29tbXVuaXR5IEhlYWx0aCBQbGFuIFNoYXJlcG9pbnRcSVMgJiBUZMhwA8VvomaOkg + ck1o / 1pyMAmj3',
	'r': '__EVENTVALIDATION',
	'r': '/wEWCAKd0LT2BQKpn5bCCwLEiLTXBQKa/+iZBQKN/6CDBgL5zYOUAgKOuuTRAQLNrvW5A7Q54HBX1kajfTkCgykodFTVbNRR'
}

http = urllib3.PoolManager()

r = http.request_encode_url('POST', 'http://chpsp/IST/Lists/Release%20Notes/AllItems.aspx', fields={formFields})

r
print(r.data)

myfileRaw = feedparser.parse(r)
myfileRaw

myfile = bytes(myfileRaw, 'utf-8')
open('c:\\Users\\Sergio.Moraes\\Documents\\Github\\PythonProjects\\release-notes-parser\\feed.txt', 'wb').write(myfile)
